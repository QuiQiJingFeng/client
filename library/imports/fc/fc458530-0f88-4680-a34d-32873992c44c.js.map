{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_mima",
    "_mimaIndex",
    "_login_path",
    "_register_path",
    "_guest_path",
    "_server_list_path",
    "onLoad",
    "sys",
    "isNative",
    "cvs",
    "node",
    "getComponent",
    "Canvas",
    "fitHeight",
    "fitWidth",
    "os",
    "OS_WINDOWS",
    "find",
    "active",
    "onBtnWeiChatClicked",
    "account",
    "localStorage",
    "getItem",
    "sign",
    "ret",
    "errcode",
    "vv",
    "userMgr",
    "onAuth",
    "onBtnGuestClicked",
    "console",
    "log",
    "self",
    "app",
    "Utils",
    "GetValueForKey",
    "GeneralAccount",
    "password",
    "post_data",
    "SendPostRequest",
    "content",
    "value",
    "JSON",
    "parse",
    "result",
    "SetValueForKey",
    "onLogin",
    "onBtnWeichatClicked",
    "anysdkMgr",
    "login",
    "onBtnMIMAClicked",
    "event",
    "target",
    "name",
    "length",
    "data",
    "version",
    "server_id",
    "locale",
    "platform",
    "GetPlatform",
    "channel",
    "device_type",
    "net_mode",
    "Net",
    "Send",
    "RegisterEvent",
    "recv_msg",
    "director",
    "loadScene"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    " cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _mima:null,\n        _mimaIndex:0,\n        _login_path: \"http://127.0.0.1:3000/login\",\n        _register_path:\"http://127.0.0.1:3000/register\",\n        _guest_path:\"http://127.0.0.1:3000/guest\",\n        _server_list_path:\"http://127.0.0.1:3000/server_list.js\"\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        if(!cc.sys.isNative){\n            var cvs = this.node.getComponent(cc.Canvas);\n            cvs.fitHeight = true;\n            cvs.fitWidth = true;\n        }\n        \n        if(!cc.sys.isNative || cc.sys.os == cc.sys.OS_WINDOWS){\n            cc.find(\"Canvas/login_view/btn_guest\").active = true;\n            cc.find(\"Canvas/login_view/btn_weixin\").active = false;\n        }\n        else{\n            cc.find(\"Canvas/login_view/btn_guest\").active = false;\n            cc.find(\"Canvas/login_view/btn_weixin\").active = true;\n        }\n    },\n    \n    onBtnWeiChatClicked:function(){\n        var account =  cc.sys.localStorage.getItem(\"wx_account\");\n        var sign = cc.sys.localStorage.getItem(\"wx_sign\");\n        if(account != null && sign != null){\n            var ret = {\n                errcode:0,\n                account:account,\n                sign:sign\n            }\n            cc.vv.userMgr.onAuth(ret);\n        }   \n    },\n    //游客登录\n    onBtnGuestClicked:function(){\n        console.log(\"游客登录------\");\n        let self = this;\n        let account = app.Utils.GetValueForKey(\"guest_account\");\n        if (!account){\n            account = app.Utils.GeneralAccount();   \n        }\n        let password = \"123456\";\n        //游客登录\n        let post_data = {\"action\":\"guest\",\"account\":account,\"password\":password};\n\n        app.Utils.SendPostRequest(self._guest_path,post_data,function(content){\n            let value = JSON.parse(content);\n            if(value.result == \"success\") {\n                app.Utils.SetValueForKey(\"guest_account\",account);\n                console.log(\"FYD========>>>登陆成功\");\n                self.onLogin(account,password);\n            }else {\n                console.log(\"FYD========>>>登陆失败\");\n            }\n        });\n    },\n\n    onBtnWeichatClicked:function(){\n        var self = this;\n        cc.vv.anysdkMgr.login();\n    },\n    \n    onBtnMIMAClicked:function(event){\n        if(this._mima[this._mimaIndex] == event.target.name){\n            this._mimaIndex++;\n            if(this._mimaIndex == this._mima.length){\n                cc.find(\"Canvas/btn_guest\").active = true;\n            }\n        }\n        else{\n            console.log(\"oh ho~~~\");\n            this._mimaIndex = 0;\n        }\n    },\n    //登陆逻辑\n    onLogin:function(account,password){\n        let self = this;\n        let data = {}\n        data.account = account;\n        data.password = password;\n\n        data.version = \"1.0.0\";\n        data.server_id = 1;\n        data.locale = \"zh-CN\";\n        data.platform = app.Utils.GetPlatform();\n        data.channel = \"mu77\";\n        data.device_type = \"MI4\";\n        data.net_mode = \"3G\";\n\n\n        app.Net.Send({login:data});\n\n        app.Net.RegisterEvent(\"login_ret\",function(recv_msg){\n            let result = recv_msg.result;\n            if(result == \"success\"){\n                console.log(\"FFFFF=====>success\");\n                cc.director.loadScene(\"hall\");\n            }else if(result == \"create_role\"){\n                console.log(\"FFFFF=====>create_role\");\n                cc.director.loadScene(\"createrole\");\n            }else if(result == \"auth_failer\"){\n                //显示登陆失败提示\n            }\n        });\n    }\n});\n"
  ]
}